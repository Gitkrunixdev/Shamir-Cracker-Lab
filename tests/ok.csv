def test_happy_path(tmp_path): 
csv_content = "date,close,symbol\n2025-01-01,10.0,ABC\n2025-01-02,20.0,ABC\n" 
data_dir = tmp_path / "data" 
data_dir.mkdir() 
csv_file = data_dir / "ok.csv" 
csv_file.write_text(csv_content, encoding="utf-8") 
reports_dir = tmp_path / "reports" 
res = run_pipeline(str(csv_file), out_dir=str(reports_dir), base_name="ok") 
